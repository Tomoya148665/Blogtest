---
import { contentfulClient } from "@lib/contentful";
import type { Article as ArticleType } from "types/generated";
import Layout from "@layouts/Layout.astro";
import Article from "@components/articles/Article";
import type { IArticle } from "types/contentful";
import TableOfContents from "@components/organisms/TableOfContents";

export async function getStaticPaths() {
  const { items } = await contentfulClient.getEntries<ArticleType>({
    content_type: "article",
  });
  const pages = items.map((item) => ({
    params: { slug: item.fields.slug },
    props: {
      article: item,
    },
  }));
  return pages;
}

interface Props {
  article: IArticle;
}

const { article } = Astro.props;
---

<Layout>
  <Article article={article} />
</Layout>
