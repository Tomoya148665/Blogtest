---
import { contentfulClient } from "@lib/contentful";
import { documentToHtmlString } from "@contentful/rich-text-html-renderer";
import type { Article, ArticleCollection } from "types/generated";
import Layout from "@layouts/Layout.astro";
import Articles from "@components/articles/Articles";

const entries = await contentfulClient.getEntries<Article>({
  content_type: "article",
});
console.log("iii");
console.log(entries.items);
---

<Layout>
  {entries.items && <Articles articles={entries.items} />}
</Layout>

<!-- <body>
  {
    entries.items.map((item) => (
      <section>
        <h2>{item.fields.name}</h2>
        <article set:html={documentToHtmlString(item.fields.content)} />
      </section>
    ))
  }
</body> -->
